<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Change Material Color and Opacity on Click</title>
    <style>
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <button id="changeColorBtn">Choose color</button>
    <button id="redColorBtn" style="background-color: red;">Red color</button>


    <script src="https://threejs.org/build/three.js"></script>
    <script src="https://threejs.org/examples/js/loaders/GLTFLoader.js"></script>
    <script>

      // Create a scene
      const scene = new THREE.Scene();

      // Create a camera
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.z = 5;

      // Create a renderer
      const renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      // Load the GLTF model
      const loader = new THREE.GLTFLoader();
      loader.load('assets/bus.glb', function (gltf) {
        const model = gltf.scene;

        // Find the mesh you want to modify
        const mesh = model.getObjectByName('MeshName');

        // Set the initial material
        const originalMaterial = mesh.material;

        const btn1 = document.querySelector('#changeColorBtn');
        btn1.addEventListener('click', () => {
            // commands
            // show color UI
        });
        const redBtn = document.querySelector('#redColorBtn');
        redBtn.addEventListener('click', () => {
            // commands
            const newMaterial = new THREE.MeshBasicMaterial({
                color: 0xff0000,
                opacity: 0.5,
                transparent: true,
            });
            mesh.material = newMaterial;
        });

        // Handle click event
        // mesh.addEventListener('click', function () {
        //   // Change the material color and opacity
        //   const newMaterial = new THREE.MeshBasicMaterial({
        //     color: 0xff0000,
        //     opacity: 0.5,
        //     transparent: true,
        //   });
        //   mesh.material = newMaterial;
        // });

        // Add the model to the scene
        scene.add(model);
      });

      // Render the scene
      function animate() {
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
      }
      animate();
    </script>
  </body>
</html>
